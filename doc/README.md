<!--
  This User README.md is generated by running:
  "resilient-sdk docgen -p fn_aws --user-guide"

  It is best edited using a Text Editor with a Markdown Previewer. VS Code
  is a good example. Checkout https://guides.github.com/features/mastering-markdown/
  for tips on writing with Markdown

  If you make manual edits and run docgen again, a .bak file will be created

  Store any screenshots in the "doc/screenshots" directory and reference them like:
  ![screenshot: screenshot_1](./screenshots/screenshot_1.png)
-->

# **User Guide:** fn_aws_v1.0.0

## Table of Contents
- [Key Features](#key-features)
- [Function - AWS: EC2 describe Instance](#function---aws-ec2-describe-instance)
- [Function - AWS: EC2 change instance status](#function---aws-ec2-change-instance-status)
- [Function - AWS: EC2 create snapshot](#function---aws-ec2-create-snapshot)
- [Function - AWS: Lambda invoke function](#function---aws-lambda-invoke-function)
- [Function - AWS: EC2 describe Security Group](#function---aws-ec2-describe-security-group)
- [Function - AWS: delete key pair](#function---aws-delete-key-pair)
- [Function - AWS: EC2 modify security groups](#function---aws-ec2-modify-security-groups)
- [Function - AWS: create tags](#function---aws-create-tags)
- [Data Table - AWS Instances](#data-table---aws-instances)
- [Data Table - AWS Security Groups](#data-table---aws-security-groups)
- [Custom Artifact Types](#custom-artifact-types)

---

## Key Features
<!--
  List the Key Features of the Integration
-->
* Key Feature 1
* Key Feature 2
* Key Feature 3

---

## Function - AWS: EC2 describe Instance
None

 ![screenshot: fn-aws-ec2-describe-instance ](./screenshots/fn-aws-ec2-describe-instance.png)

<details><summary>Inputs:</summary>
<p>

| Name | Type | Required | Example | Tooltip |
| ---- | :--: | :------: | ------- | ------- |
| `aws_region` | `text` | No | `-` | - |
| `aws_resource_id` | `text` | No | `-` | Where multiple values are allowed, enter them separated  by commas |

</p>
</details>

<details><summary>Outputs:</summary>
<p>

```python
results = {
    # TODO: Copy and paste an example of the Function Output within this code block.
    # To view the output of a Function, run resilient-circuits in DEBUG mode and invoke the Function. 
    # The Function results will be printed in the logs: "resilient-circuits run --loglevel=DEBUG"
}
```

</p>
</details>

<details><summary>Workflows</summary>

  <details><summary>Example Pre-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

  <details><summary>Example Post-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

</details>

---
## Function - AWS: EC2 change instance status
None

 ![screenshot: fn-aws-ec2-change-instance-status ](./screenshots/fn-aws-ec2-change-instance-status.png)

<details><summary>Inputs:</summary>
<p>

| Name | Type | Required | Example | Tooltip |
| ---- | :--: | :------: | ------- | ------- |
| `aws_instance_status` | `select` | No | `-` | - |
| `aws_region` | `text` | No | `-` | - |
| `aws_resource_id` | `text` | No | `-` | Where multiple values are allowed, enter them separated  by commas |

</p>
</details>

<details><summary>Outputs:</summary>
<p>

```python
results = {
    # TODO: Copy and paste an example of the Function Output within this code block.
    # To view the output of a Function, run resilient-circuits in DEBUG mode and invoke the Function. 
    # The Function results will be printed in the logs: "resilient-circuits run --loglevel=DEBUG"
}
```

</p>
</details>

<details><summary>Workflows</summary>

  <details><summary>Example Pre-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

  <details><summary>Example Post-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

</details>

---
## Function - AWS: EC2 create snapshot
Create a volume snapshot if aws_resource_id a Volume (vol-xxx..xxx), or an image if it is an Instance id (i-xxx...xxx)

 ![screenshot: fn-aws-ec2-create-snapshot ](./screenshots/fn-aws-ec2-create-snapshot.png)

<details><summary>Inputs:</summary>
<p>

| Name | Type | Required | Example | Tooltip |
| ---- | :--: | :------: | ------- | ------- |
| `aws_region` | `text` | No | `-` | - |
| `aws_resource_id` | `text` | No | `-` | Where multiple values are allowed, enter them separated  by commas |

</p>
</details>

<details><summary>Outputs:</summary>
<p>

```python
results = {
    # TODO: Copy and paste an example of the Function Output within this code block.
    # To view the output of a Function, run resilient-circuits in DEBUG mode and invoke the Function. 
    # The Function results will be printed in the logs: "resilient-circuits run --loglevel=DEBUG"
}
```

</p>
</details>

<details><summary>Workflows</summary>

  <details><summary>Example Pre-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

  <details><summary>Example Post-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

</details>

---
## Function - AWS: Lambda invoke function
None

 ![screenshot: fn-aws-lambda-invoke-function ](./screenshots/fn-aws-lambda-invoke-function.png)

<details><summary>Inputs:</summary>
<p>

| Name | Type | Required | Example | Tooltip |
| ---- | :--: | :------: | ------- | ------- |
| `aws_lambda_function_name` | `text` | No | `-` | - |
| `aws_lambda_payload` | `text` | No | `-` | - |

</p>
</details>

<details><summary>Outputs:</summary>
<p>

```python
results = {
    # TODO: Copy and paste an example of the Function Output within this code block.
    # To view the output of a Function, run resilient-circuits in DEBUG mode and invoke the Function. 
    # The Function results will be printed in the logs: "resilient-circuits run --loglevel=DEBUG"
}
```

</p>
</details>

<details><summary>Workflows</summary>

  <details><summary>Example Pre-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

  <details><summary>Example Post-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

</details>

---
## Function - AWS: EC2 describe Security Group
None

 ![screenshot: fn-aws-ec2-describe-security-group ](./screenshots/fn-aws-ec2-describe-security-group.png)

<details><summary>Inputs:</summary>
<p>

| Name | Type | Required | Example | Tooltip |
| ---- | :--: | :------: | ------- | ------- |
| `aws_region` | `text` | No | `-` | - |
| `aws_resource_id` | `text` | No | `-` | Where multiple values are allowed, enter them separated  by commas |
| `aws_security_group_filter_name` | `select` | No | `-` | Criteria for searching security groups |

</p>
</details>

<details><summary>Outputs:</summary>
<p>

```python
results = {
    # TODO: Copy and paste an example of the Function Output within this code block.
    # To view the output of a Function, run resilient-circuits in DEBUG mode and invoke the Function. 
    # The Function results will be printed in the logs: "resilient-circuits run --loglevel=DEBUG"
}
```

</p>
</details>

<details><summary>Workflows</summary>

  <details><summary>Example Pre-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

  <details><summary>Example Post-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

</details>

---
## Function - AWS: delete key pair
None

 ![screenshot: fn-aws-delete-key-pair ](./screenshots/fn-aws-delete-key-pair.png)

<details><summary>Inputs:</summary>
<p>

| Name | Type | Required | Example | Tooltip |
| ---- | :--: | :------: | ------- | ------- |
| `aws_key_name` | `text` | No | `-` | - |
| `aws_region` | `text` | No | `-` | - |

</p>
</details>

<details><summary>Outputs:</summary>
<p>

```python
results = {
    # TODO: Copy and paste an example of the Function Output within this code block.
    # To view the output of a Function, run resilient-circuits in DEBUG mode and invoke the Function. 
    # The Function results will be printed in the logs: "resilient-circuits run --loglevel=DEBUG"
}
```

</p>
</details>

<details><summary>Workflows</summary>

  <details><summary>Example Pre-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

  <details><summary>Example Post-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

</details>

---
## Function - AWS: EC2 modify security groups
Replaces the Security Groups assigned to the Instance for those described in aws_security_groups (can be a list of security group Ids separated by comma)

 ![screenshot: fn-aws-ec2-modify-security-groups ](./screenshots/fn-aws-ec2-modify-security-groups.png)

<details><summary>Inputs:</summary>
<p>

| Name | Type | Required | Example | Tooltip |
| ---- | :--: | :------: | ------- | ------- |
| `aws_region` | `text` | No | `-` | - |
| `aws_resource_id` | `text` | No | `-` | Where multiple values are allowed, enter them separated  by commas |
| `aws_security_groups` | `text` | No | `-` | List of security groups Ids separated by comma to set in the Instance |

</p>
</details>

<details><summary>Outputs:</summary>
<p>

```python
results = {
    # TODO: Copy and paste an example of the Function Output within this code block.
    # To view the output of a Function, run resilient-circuits in DEBUG mode and invoke the Function. 
    # The Function results will be printed in the logs: "resilient-circuits run --loglevel=DEBUG"
}
```

</p>
</details>

<details><summary>Workflows</summary>

  <details><summary>Example Pre-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

  <details><summary>Example Post-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

</details>

---
## Function - AWS: create tags
Assign Tags to resources. Multiple Tags and resources are allowed. 
Input multiple resources as: ami-123456,i-789013

 ![screenshot: fn-aws-create-tags ](./screenshots/fn-aws-create-tags.png)

<details><summary>Inputs:</summary>
<p>

| Name | Type | Required | Example | Tooltip |
| ---- | :--: | :------: | ------- | ------- |
| `aws_region` | `text` | No | `-` | - |
| `aws_resource_id` | `text` | No | `-` | Where multiple values are allowed, enter them separated  by commas |
| `aws_tag_names` | `text` | No | `"[{'Key': 'First_Tag', 'Value': 'First Value'}, {'Key': 'Second_Tag', 'Value': 'Second Value'}]"` | - |

</p>
</details>

<details><summary>Outputs:</summary>
<p>

```python
results = {
    # TODO: Copy and paste an example of the Function Output within this code block.
    # To view the output of a Function, run resilient-circuits in DEBUG mode and invoke the Function. 
    # The Function results will be printed in the logs: "resilient-circuits run --loglevel=DEBUG"
}
```

</p>
</details>

<details><summary>Workflows</summary>

  <details><summary>Example Pre-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

  <details><summary>Example Post-Process Script:</summary>
  <p>

  ```python
  None
  ```

  </p>
  </details>

</details>

---

## Data Table - AWS Instances

 ![screenshot: dt-aws-instances](./screenshots/dt-aws-instances.png)

#### API Name:
aws_instances

#### Columns:
| Column Name | API Access Name | Type | Tooltip |
| ----------- | --------------- | ---- | ------- |
| AvailabilityZone | `availabilityzone` | `text` | - |
| ImageId | `imageid` | `text` | - |
| State | `instance_state` | `text` | - |
| InstanceId | `instanceid` | `text` | - |
| InstanceType | `instancetype` | `text` | - |
| KeyName | `keyname` | `text` | - |
| LaunchTime | `launchtime` | `text` | - |
| PrivateDnsName | `privatednsname` | `text` | - |
| PublicDnsName | `publicdnsname` | `text` | - |
| SecurityGroups | `securitygroups` | `textarea` | - |
| Tags | `tags` | `textarea` | - |
| VpcId | `vpcid` | `text` | - |

---
## Data Table - AWS Security Groups

 ![screenshot: dt-aws-security-groups](./screenshots/dt-aws-security-groups.png)

#### API Name:
aws_security_groups

#### Columns:
| Column Name | API Access Name | Type | Tooltip |
| ----------- | --------------- | ---- | ------- |
| GroupName | `groupname` | `text` | - |
| Description | `sgdescription` | `text` | - |
| GroupId | `sggroupid` | `text` | - |
| OwnerID | `sgownerid` | `text` | - |
| VpcId | `vpcid` | `text` | - |

---


## Custom Artifact Types
| Display Name | API Access Name | Description |
| ------------ | --------------- | ----------- |
| AWS Instance ID | `aws_instance_id` |  |

---


<!--
## Inform Resilient Users
  Use this section to optionally provide additional information so that Resilient playbook 
  designer can get the maximum benefit of your integration.
-->