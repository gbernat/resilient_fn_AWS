<!--
    DO NOT MANUALLY EDIT THIS FILE
    THIS FILE IS AUTOMATICALLY GENERATED WITH resilient-circuits codegen
-->

# Example: AWS Take an AMI snapshot and Terminate

## Function - AWS: EC2 create snapshot

### API Name
`aws_ec2_create_snapshot`

### Output Name
``

### Message Destination
`fn_aws`

### Pre-Processing Script
```python
inputs.aws_resource_id = artifact.value
```

### Post-Processing Script
```python
if results.success:
  incident.addNote('AMI from {} successfully created: {}'.format(artifact.value, results.snapshotId))
```

---

## Function - AWS: EC2 change instance status

### API Name
`aws_change_instance_status`

### Output Name
`None`

### Message Destination
`fn_aws`

### Pre-Processing Script
```python
inputs.aws_resource_id = artifact.value
#inputs.aws_instance_status = 'stop'
```

### Post-Processing Script
```python
if results.success:
  incident.addNote('Status change results: {}'.format(str(results.statusInstances)))
  
```

---

